# LoreSmith Data Model v1 (Sprint 1)

This is an implementation-agnostic schema intended to support Sprint 1 MVP functionality (NPC CRUD + persistence). Specific database technology and exact DDL will be chosen during Sprint 1 execution.

## Entity: NPC

**Purpose:** Represents a non-player character that the Dungeon Master can manage throughout a campaign.

### Fields

- `id` (unique identifier)
    - Required
    - Generated by the system
    - Must be stable across app restarts

- `name` (string)
    - Required
    - Human-readable display name

- `description` (text)
    - Optional (may default to empty)

- `status` (string)
    - Required
    - Default value: `"active"`
    - Expected values (initial): `"active"`, `"inactive"`, `"unknown"`
    - May evolve later (e.g., `"dead"`, `"missing"`, `"enemy"`)

- `created_at` (timestamp)
    - Required
    - Set automatically when record is created

- `updated_at` (timestamp)
    - Required
    - Updated automatically whenever the record changes

### Notes / Constraints (Lightweight)

- NPCs must be retrievable by `id`.
- NPCs must be listable in a predictable order (default: name ascending).
- Basic filtering and searching are out of scope for Sprint 1 but should be supported later through indexing or query patterns.

---

## Persistence Requirements (Sprint 1)

The persistence mechanism must ensure:

- NPC data survives application restarts and redeployments in the hosted environment.
- The application connects to the persistence layer using configuration or secrets (not hardcoded credentials).
- Failures to connect to the persistence layer are handled gracefully (clear user-facing error, no crash).

---

## Future Model Expansion (Not in Sprint 1)

Planned entities and relationships for later sprints:

- `Faction`
- `SessionLog`
- `NPC ↔ Faction` association
- `SessionLog ↔ NPC` tagging association
- Visualization projections (relationship graph and timeline)

These are intentionally deferred to keep Sprint 1 focused on a stable MVP vertical slice.
